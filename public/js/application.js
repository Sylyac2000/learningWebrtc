(()=>{var __webpack_modules__={17:()=>{eval("// Connect to server\nvar socket = io.connect('https://192.168.1.8:3000');\n\n// Ask channel name from user\nchannel = prompt('Enter signaling channel name:');\nif (channel !== '') {\n  console.log('Trying to create or join channel: ', channel);\n  // Send 'create or join' to the server\n  socket.emit('create or join', channel);\n}\nsocket.on('message', function (data) {\n  console.log(data);\n});\n\n// Handle 'created' message\nsocket.on('created', function (channel) {\n  console.log('channel ' + channel + ' has been created!');\n  console.log('This peer is the initiator...');\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJuYW1lcyI6WyJzb2NrZXQiLCJpbyIsImNvbm5lY3QiLCJjaGFubmVsIiwicHJvbXB0IiwiY29uc29sZSIsImxvZyIsImVtaXQiLCJvbiIsImRhdGEiXSwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsid2VicGFjazovL2xlYXJuaW5nd2VicnRjMC8uL3NyYy9jbGllbnR3c29ja2V0LmpzP2I0OGUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29ubmVjdCB0byBzZXJ2ZXJcclxuY29uc3Qgc29ja2V0ID0gaW8uY29ubmVjdCgnaHR0cHM6Ly8xOTIuMTY4LjEuODozMDAwJyk7XHJcblxyXG4vLyBBc2sgY2hhbm5lbCBuYW1lIGZyb20gdXNlclxyXG5jaGFubmVsID0gcHJvbXB0KCdFbnRlciBzaWduYWxpbmcgY2hhbm5lbCBuYW1lOicpO1xyXG5pZiAoY2hhbm5lbCAhPT0gJycpIHtcclxuICBjb25zb2xlLmxvZygnVHJ5aW5nIHRvIGNyZWF0ZSBvciBqb2luIGNoYW5uZWw6ICcsIGNoYW5uZWwpO1xyXG4gIC8vIFNlbmQgJ2NyZWF0ZSBvciBqb2luJyB0byB0aGUgc2VydmVyXHJcbiAgc29ja2V0LmVtaXQoJ2NyZWF0ZSBvciBqb2luJywgY2hhbm5lbCk7XHJcbn1cclxuXHJcbnNvY2tldC5vbignbWVzc2FnZScsIGZ1bmN0aW9uKGRhdGEpIHtcclxuICBjb25zb2xlLmxvZyhkYXRhKTtcclxufSk7XHJcblxyXG4vLyBIYW5kbGUgJ2NyZWF0ZWQnIG1lc3NhZ2Vcclxuc29ja2V0Lm9uKCdjcmVhdGVkJywgZnVuY3Rpb24gKGNoYW5uZWwpIHtcclxuICBjb25zb2xlLmxvZygnY2hhbm5lbCAnICsgY2hhbm5lbCArICcgaGFzIGJlZW4gY3JlYXRlZCEnKTtcclxuICBjb25zb2xlLmxvZygnVGhpcyBwZWVyIGlzIHRoZSBpbml0aWF0b3IuLi4nKTtcclxufSk7XHJcblxyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsSUFBTUEsTUFBTSxHQUFHQyxFQUFFLENBQUNDLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQzs7QUFFckQ7QUFDQUMsT0FBTyxHQUFHQyxNQUFNLENBQUMsK0JBQStCLENBQUM7QUFDakQsSUFBSUQsT0FBTyxLQUFLLEVBQUUsRUFBRTtFQUNsQkUsT0FBTyxDQUFDQyxHQUFHLENBQUMsb0NBQW9DLEVBQUVILE9BQU8sQ0FBQztFQUMxRDtFQUNBSCxNQUFNLENBQUNPLElBQUksQ0FBQyxnQkFBZ0IsRUFBRUosT0FBTyxDQUFDO0FBQ3hDO0FBRUFILE1BQU0sQ0FBQ1EsRUFBRSxDQUFDLFNBQVMsRUFBRSxVQUFTQyxJQUFJLEVBQUU7RUFDbENKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRyxJQUFJLENBQUM7QUFDbkIsQ0FBQyxDQUFDOztBQUVGO0FBQ0FULE1BQU0sQ0FBQ1EsRUFBRSxDQUFDLFNBQVMsRUFBRSxVQUFVTCxPQUFPLEVBQUU7RUFDdENFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFVBQVUsR0FBR0gsT0FBTyxHQUFHLG9CQUFvQixDQUFDO0VBQ3hERSxPQUFPLENBQUNDLEdBQUcsQ0FBQywrQkFBK0IsQ0FBQztBQUM5QyxDQUFDLENBQUMifQ==\n//# sourceURL=webpack-internal:///17\n")},633:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";eval("\n// EXTERNAL MODULE: ./src/clientwsocket.js\nvar clientwsocket = __webpack_require__(17);\n;// CONCATENATED MODULE: ./src/webrtc.js\n/* check if webrtc work on this browser */\n\nvar video = document.querySelector('video');\nvar canvas = document.querySelector('canvas');\nvar streaming = false;\n// var yourvideo = document.querySelector('#yourvideo');\nvar theirVideo = document.querySelector('#othersvideo');\nvar yourConnection, othersConnection, theirConnection;\nfunction checkBrowserWebrtcAll() {\n  var $video = document.querySelector('#yourvideo');\n  if (navigator.getUserMedia) {\n    navigator.getUserMedia({\n      audio: true,\n      video: {\n        mandatory: {\n          minAspectRatio: 1.777,\n          maxAspectRatio: 1.778\n        },\n        optional: [{\n          maxWidth: 640\n        }, {\n          maxHeigth: 480\n        }]\n      }\n    }, function (stream) {\n      streaming = true;\n      if (hasRTCPeerConnection()) {\n        startPeerConnection(stream);\n      }\n      $video.srcObject = stream;\n      $video.muted = true;\n      $video.onloadedmetadata = function (e) {\n        $video.play();\n      };\n    }, function (error) {\n      return console.error(error);\n    });\n  }\n}\nfunction hasRTCPeerConnection() {\n  window.RTCPeerConnection = window.RTCPeerConnection || window.webkitRTCPeerConnection || window.mozRTCPeerConnection;\n  return !!window.RTCPeerConnection;\n}\nfunction startPeerConnection(stream) {\n  var configuration = {\n    // Uncomment this code to add custom iceServers\n    // \"iceServers\": [{ \"url\": \"stun:stun.1.google.com:19302\" }]\"\n  };\n  yourConnection = new RTCPeerConnection(configuration);\n  theirConnection = new RTCPeerConnection(configuration);\n\n  // Setup stream listening\n  yourConnection.addStream(stream);\n  /* depreciated ways\r\n    theirConnection.onaddstream = function (e) {\r\n    theirConnection.onaddtrack  = function (e) { */\n  theirConnection.ontrack = function (e) {\n    theirVideo.src = window.URL.createObjectURL(e.stream);\n    console.log('theirConnection onaddstream...');\n  };\n\n  // Setup ice handling\n  yourConnection.onicecandidate = function (event) {\n    if (event.candidate) {\n      theirConnection.addIceCandidate(new RTCIceCandidate(event.candidate));\n    }\n  };\n  theirConnection.onicecandidate = function (event) {\n    if (event.candidate) {\n      yourConnection.addIceCandidate(new RTCIceCandidate(event.candidate));\n    }\n  };\n\n  // Begin the offer\n  yourConnection.createOffer(function (offer) {\n    yourConnection.setLocalDescription(offer);\n    theirConnection.setRemoteDescription(offer);\n    theirConnection.createAnswer(function (offer) {\n      theirConnection.setLocalDescription(offer);\n      yourConnection.setRemoteDescription(offer);\n    });\n  });\n  console.log('startPeerConnection...');\n}\n\n;// CONCATENATED MODULE: ./src/index.js\n\n\n\n\ncheckBrowserWebrtcAll();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjMzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDN0ZBO0FBQ0E7QUFDQTtBQUVBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWFybmluZ3dlYnJ0YzAvLi9zcmMvd2VicnRjLmpzP2Y2NzEiLCJ3ZWJwYWNrOi8vbGVhcm5pbmd3ZWJydGMwLy4vc3JjL2luZGV4LmpzP2I2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiLyogY2hlY2sgaWYgd2VicnRjIHdvcmsgb24gdGhpcyBicm93c2VyICovXHJcblxyXG5jb25zdCB2aWRlbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3ZpZGVvJyk7XHJcbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpO1xyXG5sZXQgc3RyZWFtaW5nID0gZmFsc2U7XHJcbi8vIHZhciB5b3VydmlkZW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjeW91cnZpZGVvJyk7XHJcbmNvbnN0IHRoZWlyVmlkZW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb3RoZXJzdmlkZW8nKTtcclxubGV0IHlvdXJDb25uZWN0aW9uLCBvdGhlcnNDb25uZWN0aW9uLCB0aGVpckNvbm5lY3Rpb247XHJcblxyXG5mdW5jdGlvbiBjaGVja0Jyb3dzZXJXZWJydGNBbGwgKCkge1xyXG4gIGNvbnN0ICR2aWRlbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN5b3VydmlkZW8nKTtcclxuICBpZiAobmF2aWdhdG9yLmdldFVzZXJNZWRpYSkge1xyXG4gICAgbmF2aWdhdG9yLmdldFVzZXJNZWRpYSh7XG4gICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgIHZpZGVvOiB7XG4gICAgICAgIG1hbmRhdG9yeToge1xyXG4gICAgICAgICAgbWluQXNwZWN0UmF0aW86IDEuNzc3LFxyXG4gICAgICAgICAgbWF4QXNwZWN0UmF0aW86IDEuNzc4XHJcbiAgICAgICAgfSxcbiAgICAgICAgb3B0aW9uYWw6IFtcclxuICAgICAgICAgIHsgbWF4V2lkdGg6IDY0MCB9LFxyXG4gICAgICAgICAgeyBtYXhIZWlndGg6IDQ4MCB9XHJcbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0sXHJcbiAgICBzdHJlYW0gPT4ge1xuICAgICAgc3RyZWFtaW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgIGlmIChoYXNSVENQZWVyQ29ubmVjdGlvbigpKSB7XHJcbiAgICAgICAgc3RhcnRQZWVyQ29ubmVjdGlvbihzdHJlYW0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkdmlkZW8uc3JjT2JqZWN0ID0gc3RyZWFtO1xyXG4gICAgICAkdmlkZW8ubXV0ZWQgPSB0cnVlO1xyXG4gICAgICAkdmlkZW8ub25sb2FkZWRtZXRhZGF0YSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgJHZpZGVvLnBsYXkoKTtcclxuICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBlcnJvciA9PiBjb25zb2xlLmVycm9yKGVycm9yKVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhc1JUQ1BlZXJDb25uZWN0aW9uICgpIHtcclxuICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gfHxcclxuICAgICAgICB3aW5kb3cud2Via2l0UlRDUGVlckNvbm5lY3Rpb24gfHwgd2luZG93Lm1velJUQ1BlZXJDb25uZWN0aW9uO1xyXG4gIHJldHVybiAhIXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbjtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RhcnRQZWVyQ29ubmVjdGlvbiAoc3RyZWFtKSB7XHJcbiAgY29uc3QgY29uZmlndXJhdGlvbiA9IHtcclxuICAgIC8vIFVuY29tbWVudCB0aGlzIGNvZGUgdG8gYWRkIGN1c3RvbSBpY2VTZXJ2ZXJzXHJcbiAgICAvLyBcImljZVNlcnZlcnNcIjogW3sgXCJ1cmxcIjogXCJzdHVuOnN0dW4uMS5nb29nbGUuY29tOjE5MzAyXCIgfV1cIlxyXG4gIH07XHJcbiAgeW91ckNvbm5lY3Rpb24gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24oY29uZmlndXJhdGlvbik7XHJcbiAgdGhlaXJDb25uZWN0aW9uID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKGNvbmZpZ3VyYXRpb24pO1xyXG5cclxuICAvLyBTZXR1cCBzdHJlYW0gbGlzdGVuaW5nXHJcbiAgeW91ckNvbm5lY3Rpb24uYWRkU3RyZWFtKHN0cmVhbSk7XHJcbiAgLyogZGVwcmVjaWF0ZWQgd2F5c1xyXG4gICAgdGhlaXJDb25uZWN0aW9uLm9uYWRkc3RyZWFtID0gZnVuY3Rpb24gKGUpIHtcclxuICAgIHRoZWlyQ29ubmVjdGlvbi5vbmFkZHRyYWNrICA9IGZ1bmN0aW9uIChlKSB7ICovXHJcbiAgdGhlaXJDb25uZWN0aW9uLm9udHJhY2sgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgdGhlaXJWaWRlby5zcmMgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChlLnN0cmVhbSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ3RoZWlyQ29ubmVjdGlvbiBvbmFkZHN0cmVhbS4uLicpO1xyXG4gIH07XHJcblxyXG4gIC8vIFNldHVwIGljZSBoYW5kbGluZ1xyXG4gIHlvdXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQuY2FuZGlkYXRlKSB7XHJcbiAgICAgIHRoZWlyQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUobmV3XHJcbiAgICAgIFJUQ0ljZUNhbmRpZGF0ZShldmVudC5jYW5kaWRhdGUpKTtcclxuICAgIH1cclxuICB9O1xyXG4gIHRoZWlyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZSA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgaWYgKGV2ZW50LmNhbmRpZGF0ZSkge1xyXG4gICAgICB5b3VyQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUobmV3XHJcbiAgICAgIFJUQ0ljZUNhbmRpZGF0ZShldmVudC5jYW5kaWRhdGUpKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBCZWdpbiB0aGUgb2ZmZXJcclxuICB5b3VyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcihmdW5jdGlvbiAob2ZmZXIpIHtcclxuICAgIHlvdXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24ob2ZmZXIpO1xyXG4gICAgdGhlaXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG9mZmVyKTtcclxuXHJcbiAgICB0aGVpckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKGZ1bmN0aW9uIChvZmZlcikge1xyXG4gICAgICB0aGVpckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihvZmZlcik7XHJcbiAgICAgIHlvdXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG9mZmVyKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIGNvbnNvbGUubG9nKCdzdGFydFBlZXJDb25uZWN0aW9uLi4uJyk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IGNoZWNrQnJvd3NlcldlYnJ0Y0FsbCB9O1xuIiwiaW1wb3J0IGNsaWVudHdzb2NrZXQgZnJvbSAnLi9jbGllbnR3c29ja2V0LmpzJztcbmltcG9ydCBhcHBsaWNhdGlvbiBmcm9tICcuL2FwcGxpY2F0aW9uLnNjc3MnO1xuaW1wb3J0IHsgc2F5SGVsbG8gfSBmcm9tICcuL2dyZWV0aW5nZXM2LmpzJztcblxuaW1wb3J0IHsgY2hlY2tCcm93c2VyV2VicnRjQWxsIH0gZnJvbSAnLi93ZWJydGMuanMnO1xuXG5jaGVja0Jyb3dzZXJXZWJydGNBbGwoKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///633\n")}},__webpack_module_cache__={};function __webpack_require__(n){var c=__webpack_module_cache__[n];if(void 0!==c)return c.exports;var e=__webpack_module_cache__[n]={exports:{}};return __webpack_modules__[n](e,e.exports,__webpack_require__),e.exports}var __webpack_exports__=__webpack_require__(633)})();